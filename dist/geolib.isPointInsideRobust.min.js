/*! geolib.isPointInsideRobust 2.0.18
*
* Robust version of isPointInside for Geolib.js
*
* Based on https://github.com/mikolalysenko/robust-point-in-polygon
* by Mikola Lysenko, licensed under MIT
*
* @author Manuel Bieh
* @url http://www.manuelbieh.com/
* @version 2.0.18
* @license MIT
*
*/
!function(a,b,c){var d,e=+(Math.pow(2,27)+1),f=5,g=1.1102230246251565e-16,h=(3+16*g)*g,i=(7+56*g)*g,j=function(a,b,c){var d=a*b,f=e*a,g=f-a,h=f-g,i=a-h,j=e*b,k=j-b,l=j-k,m=b-l,n=d-h*l,o=n-i*l,p=o-h*m,q=i*m-p;return c?(c[0]=q,c[1]=d,c):[q,d]},k=function(a,b){var c=a+b,d=c-a,e=c-d,f=b-d,g=a-e,h=g+f;return h?[h,c]:[c]},l=function(a,b){var c=0|a.length,d=0|b.length;if(1===c&&1===d)return k(a[0],b[0]);var e,f,g=c+d,h=new Array(g),i=0,j=0,l=0,m=Math.abs,n=a[j],o=m(n),p=b[l],q=m(p);q>o?(f=n,j+=1,c>j&&(n=a[j],o=m(n))):(f=p,l+=1,d>l&&(p=b[l],q=m(p))),c>j&&q>o||l>=d?(e=n,j+=1,c>j&&(n=a[j],o=m(n))):(e=p,l+=1,d>l&&(p=b[l],q=m(p)));for(var r,s,t,u,v,w=e+f,x=w-e,y=f-x,z=y,A=w;c>j&&d>l;)q>o?(e=n,j+=1,c>j&&(n=a[j],o=m(n))):(e=p,l+=1,d>l&&(p=b[l],q=m(p))),f=z,w=e+f,x=w-e,y=f-x,y&&(h[i++]=y),r=A+w,s=r-A,t=r-s,u=w-s,v=A-t,z=v+u,A=r;for(;c>j;)e=n,f=z,w=e+f,x=w-e,y=f-x,y&&(h[i++]=y),r=A+w,s=r-A,t=r-s,u=w-s,v=A-t,z=v+u,A=r,j+=1,c>j&&(n=a[j]);for(;d>l;)e=p,f=z,w=e+f,x=w-e,y=f-x,y&&(h[i++]=y),r=A+w,s=r-A,t=r-s,u=w-s,v=A-t,z=v+u,A=r,l+=1,d>l&&(p=b[l]);return z&&(h[i++]=z),A&&(h[i++]=A),i||(h[i++]=0),h.length=i,h},m=l,n=function(a,b){var c=a.length;if(1===c){var d=j(a[0],b);return d[0]?d:[d[1]]}var e=new Array(2*c),f=[.1,.1],g=[.1,.1],h=0;j(a[0],b,f),f[0]&&(e[h++]=f[0]);for(var i=1;c>i;++i){j(a[i],b,g);var k=f[1];twoSum(k,g[0],f),f[0]&&(e[h++]=f[0]);var l=g[1],m=f[1],n=l+m,o=n-l,p=m-o;f[1]=n,p&&(e[h++]=p)}return f[1]&&(e[h++]=f[1]),0===h&&(e[h++]=0),e.length=h,e},o=n,k=function(a,b){var c=a+b,d=c-a,e=c-d,f=b-d,g=a-e,h=g+f;return h?[h,c]:[c]},p=function(a,b){var c=0|a.length,d=0|b.length;if(1===c&&1===d)return k(a[0],-b[0]);var e,f,g=c+d,h=new Array(g),i=0,j=0,l=0,m=Math.abs,n=a[j],o=m(n),p=-b[l],q=m(p);q>o?(f=n,j+=1,c>j&&(n=a[j],o=m(n))):(f=p,l+=1,d>l&&(p=-b[l],q=m(p))),c>j&&q>o||l>=d?(e=n,j+=1,c>j&&(n=a[j],o=m(n))):(e=p,l+=1,d>l&&(p=-b[l],q=m(p)));for(var r,s,t,u,v,w=e+f,x=w-e,y=f-x,z=y,A=w;c>j&&d>l;)q>o?(e=n,j+=1,c>j&&(n=a[j],o=m(n))):(e=p,l+=1,d>l&&(p=-b[l],q=m(p))),f=z,w=e+f,x=w-e,y=f-x,y&&(h[i++]=y),r=A+w,s=r-A,t=r-s,u=w-s,v=A-t,z=v+u,A=r;for(;c>j;)e=n,f=z,w=e+f,x=w-e,y=f-x,y&&(h[i++]=y),r=A+w,s=r-A,t=r-s,u=w-s,v=A-t,z=v+u,A=r,j+=1,c>j&&(n=a[j]);for(;d>l;)e=p,f=z,w=e+f,x=w-e,y=f-x,y&&(h[i++]=y),r=A+w,s=r-A,t=r-s,u=w-s,v=A-t,z=v+u,A=r,l+=1,d>l&&(p=-b[l]);return z&&(h[i++]=z),A&&(h[i++]=A),i||(h[i++]=0),h.length=i,h},q=function(a,b){for(var c=new Array(a.length-1),d=1;d<a.length;++d)for(var e=c[d-1]=new Array(a.length-1),f=0,g=0;f<a.length;++f)f!==b&&(e[g++]=a[d][f]);return c},r=function(a){for(var b=new Array(a),c=0;a>c;++c){b[c]=new Array(a);for(var d=0;a>d;++d)b[c][d]=["m",d,"[",a-c-1,"]"].join("")}return b},s=function(a){return 1&a?"-":""},t=function(a){if(1===a.length)return a[0];if(2===a.length)return["sum(",a[0],",",a[1],")"].join("");var b=a.length>>1;return["sum(",t(a.slice(0,b)),",",t(a.slice(b)),")"].join("")},u=function(a){if(2===a.length)return[["sum(prod(",a[0][0],",",a[1][1],"),prod(-",a[0][1],",",a[1][0],"))"].join("")];for(var b=[],c=0;c<a.length;++c)b.push(["scale(",t(u(q(a,c))),",",s(c),a[0][c],")"].join(""));return b},v=function(a){for(var b=[],c=[],d=r(a),e=[],f=0;a>f;++f)0===(1&f)?b.push.apply(b,u(q(d,f))):c.push.apply(c,u(q(d,f))),e.push("m"+f);var g=t(b),h=t(c),i="orientation"+a+"Exact",k=["function ",i,"(",e.join(),"){var p=",g,",n=",h,",d=sub(p,n);        return d[d.length-1];};return ",i].join(""),l=new Function("sum","prod","scale","sub",k);return l(m,j,o,p)},w=v(3),x=v(4),y=[function(){return 0},function(){return 0},function(a,b){return b[0]-a[0]},function(a,b,c){var d,e=(a[1]-c[1])*(b[0]-c[0]),f=(a[0]-c[0])*(b[1]-c[1]),g=e-f;if(e>0){if(0>=f)return g;d=e+f}else{if(!(0>e))return g;if(f>=0)return g;d=-(e+f)}var i=h*d;return g>=i||-i>=g?g:w(a,b,c)},function(a,b,c,d){var e=a[0]-d[0],f=b[0]-d[0],g=c[0]-d[0],h=a[1]-d[1],j=b[1]-d[1],k=c[1]-d[1],l=a[2]-d[2],m=b[2]-d[2],n=c[2]-d[2],o=f*k,p=g*j,q=g*h,r=e*k,s=e*j,t=f*h,u=l*(o-p)+m*(q-r)+n*(s-t),v=(Math.abs(o)+Math.abs(p))*Math.abs(l)+(Math.abs(q)+Math.abs(r))*Math.abs(m)+(Math.abs(s)+Math.abs(t))*Math.abs(n),w=i*v;return u>w||-u>w?u:x(a,b,c,d)}],z=function(a){var b=y[a.length];return b||(b=y[a.length]=v(a.length)),b.apply(c,a)},A=function(){for(;y.length<=f;)y.push(v(y.length));for(var a=[],b=["slow"],e=0;f>=e;++e)a.push("a"+e),b.push("o"+e);for(var g=["function getOrientation(",a.join(),"){switch(arguments.length){case 0:case 1:return 0;"],e=2;f>=e;++e)g.push("case ",e,":return o",e,"(",a.slice(0,e).join(),");");g.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),b.push(g.join(""));var h=Function.apply(c,b);d=h.apply(c,[z].concat(y));for(var e=0;f>=e;++e)d[e]=y[e]};A();var B=function(a,c){for(var e=b.longitude(c),f=b.latitude(c),g=a.map(function(a){return[b.longitude(a),b.latitude(a)]}),a=g,c=[e,f],h=a.length,i=1,j=h,k=0,l=h-1;j>k;l=k++){var m=a[k],n=a[l],o=m[1],p=n[1];if(o>p){if(f>p&&o>f){var q=d(m,n,c);if(0===q)return 0;i^=q>0|0}else if(f===o){var r=a[(k+1)%h],s=r[1];if(s>o){var q=d(m,n,c);if(0===q)return 0;i^=q>0|0}}}else if(p>o){if(f>o&&p>f){var q=d(m,n,c);if(0===q)return 0;i^=0>q|0}else if(f===o){var r=a[(k+1)%h],s=r[1];if(o>s){var q=d(m,n,c);if(0===q)return 0;i^=0>q|0}}}else if(f===o){var t=Math.min(m[0],n[0]),u=Math.max(m[0],n[0]);if(0===k){for(;l>0;){var v=(l+h-1)%h,w=a[v];if(w[1]!==f)break;var x=w[0];t=Math.min(t,x),u=Math.max(u,x),l=v}if(0===l)return e>=t&&u>=e?0:1;j=l+1}for(var y=a[(l+h-1)%h][1];j>k+1;){var w=a[k+1];if(w[1]!==f)break;var x=w[0];t=Math.min(t,x),u=Math.max(u,x),k+=1}if(e>=t&&u>=e)return 0;var z=a[(k+1)%h][1];t>e&&f>y!=f>z&&(i^=1)}}return 2*i-1},C={isPointInsideRobust:function(a,b){return B(b,a)},isInside:function(){return this.isPointInsideRobust.apply(this,arguments)}};"undefined"!=typeof module&&"undefined"!=typeof module.exports?(b=require("geolib"),b.extend(C)):"function"==typeof define&&define.amd?define(["geolib"],function(a){return a.extend(C),a}):b.extend(C)}(this,this.geolib);